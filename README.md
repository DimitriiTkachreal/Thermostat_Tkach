# Thermostat STM8

**Автор:** <Ткач Дімітірій>  
**Дата:** 30.08.2025  


## Опис проєкту
Цей проєкт містить схеми для термостата на мікроконтролері STM8. Термостат - пристрій призначений для контролю температури у приміщенні. Згідно вимог живлення реалізовано від  USB type-C який видає 5 В, проте оскільки мікроконтролер stm8 працює на 3.3 В, тому було вирішено використати стабілізатор напруги asm11117, для відображення поточної температури приміщення а також реалізації діалогу з користувачем(відображення режимів меню, значень параметрів) використовується 4-розрядний семисегментний дисплей, керування яким реалізовано через драйвер TM1637, керування пристроєм з боку користувача реалізовано за допомогою 3 тактових кнопок set, up, down, із зовнішніми підтяжками до 5В. Для вимірювання температури використовується ntc 10kOm b3950 термістор (резистор який при збільшенні його температури зменшує опір), на схемі він увімкнений разом із звичайним резистором таким чином щоб утворити дільник напруги і за допомогою АЦП  мікроконтролера вже на програмному рівні можна було обчислити температуру. Прошивання МК відбуватиметься за допомогою програматора ST-link v2. Також на схемі подано реле з оптоізоляцією яке здатне комутувати до 120 В, а живиться воно від 5В. Усі з'єднання на схему показано, місця підключення позначено символома портів
##Зміни після правок
Було проаналізовано даташит TM1637, та виправлено усі з'єднання з дисплеєм.Також згідно даташиту керувати можна дисплеями із загальним анодом, який я і встановив. Встановив підтяжки термістора та кнопок до 3.3 В. Встановив замість біполярного транзитсра на модулі реле, польовий NPN MOSFET, Керування відбуватиметься логічним 1, подача ~3.3 В на вхід відкриває N-MOSFET і вмикає реле логічний 0 - вимикає. Про оптоізоляцію,дякую за зауваження,хоч в характеристиках реле яке я обрав максимальна напруга комутації 250В, при такій напрузі оптопара обов'язкова, проте не було мови про те що будуть підкючатися такі "важкі" пристрої, передбачається що підключатимуться опціональні пристрої наругою кілька десятків вольт, наприклад невеличкий вентилятор на 12В. Додав чіп CH340C і з'єднав його з Type-c і МК. ASM1117, поки не міняв, треба подумати про максимальний струм споживання і краще розібратися, проте все ж напевно перейду на dc-dc, проте з ним мені також ще треба розібратися, але дякую за пораду. Про написи біля портів: це фіча Altium, додає написи з інформацію про те якій схемі належить порт і на якому аркуші він з'єднаний(для випадку багатошарового креслення), ця фіча встановлена за заумовчанням, проте її можна приховати з виду, що я і зробив.

## Структура репозиторію

├─ schematics/ # .SchDoc файли
├─ pcb/ # .структура проекту
├─ history/ # історія змін та логи
├─ .gitignore
└─ README.md

## Як відкрити проект
1. Відкрити Altium Designer  
2. File → Open Project → обрати `Thermostat_STM8.PrjPcb`  


## Контакти
- Telegram: @ld_td7
- Email: <lidergsm1466@gmail.com>
